{"version":3,"file":"script.min.js","sources":["../../src/js/script.js"],"sourcesContent":["let $form;\nlet $inputs;\n\nconst handleInputChange = (event, checkFunction) => {\n  let $field = event.currentTarget;\n  if (event.type === \"blur\") {\n    checkFunction($field);\n  } else if (event.type === \"input\") {\n    console.log(\"typing\");\n    if ($field.validity.valid) {\n      $field.parentNode.querySelector(\".form__error\").textContent = \"\";\n    }\n  }\n};\n\nconst checkText = $field => {\n  console.log(\"checkText\", $field.parentNode.querySelector(\".form__error\"));\n  $field.parentNode.querySelector(\".form__error\").textContent = valueMissing(\n    $field\n  );\n};\n\nconst checkGeneral = $field => {\n  if (valueMissing($field)) {\n    $field.parentNode.querySelector(\".form__error\").textContent = valueMissing(\n      $field\n    );\n  } else if (typeMismatch($field)) {\n    $field.parentNode.querySelector(\".form__error\").textContent = typeMismatch(\n      $field\n    );\n  }\n};\n\nconst valueMissing = $field =>\n  $field.validity.valueMissing ? \"required field\" : \"\";\n\nconst typeMismatch = $field =>\n  $field.validity.typeMismatch ? \"invalid email address\" : \"\";\n\nconst handleSendForm = event => {\n  event.preventDefault();\n\n  if (!$form.checkValidity()) {\n    for (let i = 0; i < $inputs.length; i++) {\n      if (\n        $inputs[i].dataset.type === \"email\" ||\n        $inputs[i].dataset.type === \"phone\"\n      )\n        checkGeneral($inputs[i]);\n      if ($inputs[i].dataset.type === \"text\") checkText($inputs[i]);\n    }\n  } else {\n    $form.submit();\n  }\n};\n\nconst toggleFocus = event => {\n  event.preventDefault();\n  const $parent = event.currentTarget.parentElement;\n\n  if (event.type === \"focus\") $parent.classList.add(\"form__item_focus\");\n  else $parent.classList.remove(\"form__item_focus\");\n};\n\nconst init = () => {\n  $form = document.querySelector(\".contact__form\");\n  $inputs = document.querySelectorAll(\".form__item .form__input\");\n\n  $form.noValidate = true;\n\n  for (let i = 0; i < $inputs.length; i++) {\n    $inputs[i].addEventListener(\"focus\", toggleFocus);\n    $inputs[i].addEventListener(\"blur\", toggleFocus);\n\n    if (!$inputs[i].dataset.type) return;\n\n    /* prettier-ignore */\n    if ($inputs[i].dataset.type === \"email\") {\n      $inputs[i].addEventListener(\"input\", event => handleInputChange(event, checkGeneral));\n      $inputs[i].addEventListener(\"blur\", event => handleInputChange(event, checkGeneral));\n    }\n\n    /* prettier-ignore */\n    if ($inputs[i].dataset.type === \"text\") {\n      $inputs[i].addEventListener(\"input\", event => handleInputChange(event, checkText));\n      $inputs[i].addEventListener(\"blur\", event => handleInputChange(event, checkText));\n    }\n\n    /* prettier-ignore */\n    if ($inputs[i].dataset.type === \"phone\") {\n      $inputs[i].addEventListener(\"input\", event => handleInputChange(event, checkGeneral));\n      $inputs[i].addEventListener(\"blur\", event => handleInputChange(event, checkGeneral));\n    }\n\n    $form.addEventListener(\"submit\", handleSendForm);\n  }\n};\n\ninit();\n"],"names":["$form","$inputs","handleInputChange","event","checkFunction","$field","currentTarget","type","log","validity","valid","parentNode","querySelector","textContent","checkText","valueMissing","checkGeneral","typeMismatch","handleSendForm","preventDefault","checkValidity","submit","i","length","dataset","toggleFocus","$parent","parentElement","classList","add","remove","document","querySelectorAll","noValidate","addEventListener","init"],"mappings":"yBAAA,IAAIA,SACAC,SAEEC,EAAoB,SAACC,EAAOC,OAC5BC,EAASF,EAAMG,cACA,SAAfH,EAAMI,OACMF,GACU,UAAfF,EAAMI,eACPC,IAAI,UACRH,EAAOI,SAASC,UACXC,WAAWC,cAAc,gBAAgBC,YAAc,MAK9DC,EAAY,oBACRN,IAAI,YAAaH,EAAOM,WAAWC,cAAc,mBAClDD,WAAWC,cAAc,gBAAgBC,YAAcE,EAC5DV,IAIEW,EAAe,YACfD,EAAaV,KACRM,WAAWC,cAAc,gBAAgBC,YAAcE,EAC5DV,GAEOY,EAAaZ,OACfM,WAAWC,cAAc,gBAAgBC,YAAcI,EAC5DZ,KAKAU,EAAe,mBACnBV,EAAOI,SAASM,aAAe,iBAAmB,IAE9CE,EAAe,mBACnBZ,EAAOI,SAASQ,aAAe,wBAA0B,IAErDC,EAAiB,iBACfC,iBAEDnB,EAAMoB,kBAUHC,kBATD,IAAIC,EAAI,EAAGA,EAAIrB,EAAQsB,OAAQD,IAEJ,UAA5BrB,EAAQqB,GAAGE,QAAQjB,MACS,UAA5BN,EAAQqB,GAAGE,QAAQjB,MAEnBS,EAAaf,EAAQqB,IACS,SAA5BrB,EAAQqB,GAAGE,QAAQjB,MAAiBO,EAAUb,EAAQqB,KAO1DG,EAAc,cACZN,qBACAO,EAAUvB,EAAMG,cAAcqB,cAEjB,UAAfxB,EAAMI,KAAkBmB,EAAQE,UAAUC,IAAI,oBAC7CH,EAAQE,UAAUE,OAAO,sBAGnB,aACHC,SAASnB,cAAc,oBACrBmB,SAASC,iBAAiB,8BAE9BC,YAAa,MAEd,IAAIX,EAAI,EAAGA,EAAIrB,EAAQsB,OAAQD,IAAK,MAC/BA,GAAGY,iBAAiB,QAAST,KAC7BH,GAAGY,iBAAiB,OAAQT,IAE/BxB,EAAQqB,GAAGE,QAAQjB,KAAM,OAGE,UAA5BN,EAAQqB,GAAGE,QAAQjB,SACbe,GAAGY,iBAAiB,QAAS,mBAAShC,EAAkBC,EAAOa,OAC/DM,GAAGY,iBAAiB,OAAQ,mBAAShC,EAAkBC,EAAOa,MAIxC,SAA5Bf,EAAQqB,GAAGE,QAAQjB,SACbe,GAAGY,iBAAiB,QAAS,mBAAShC,EAAkBC,EAAOW,OAC/DQ,GAAGY,iBAAiB,OAAQ,mBAAShC,EAAkBC,EAAOW,MAIxC,UAA5Bb,EAAQqB,GAAGE,QAAQjB,SACbe,GAAGY,iBAAiB,QAAS,mBAAShC,EAAkBC,EAAOa,OAC/DM,GAAGY,iBAAiB,OAAQ,mBAAShC,EAAkBC,EAAOa,QAGlEkB,iBAAiB,SAAUhB,IAIrCiB"}